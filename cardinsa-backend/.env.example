# ================================================================
# CARDINSA V2 - ENVIRONMENT VARIABLES EXAMPLE
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control!
# ================================================================

# ================================================================
# APPLICATION CONFIGURATION
# ================================================================
APP_NAME=Cardinsa
APP_VERSION=2.0.0
ENV=development
DEBUG=True
FRONTEND_BASE_URL=http://localhost:3000
API_V1_STR=/api/v1
OPENAPI_URL=/openapi.json

# ================================================================
# SERVER CONFIGURATION
# ================================================================
HOST=0.0.0.0
PORT=8001
WORKERS=4
RELOAD=True

# ================================================================
# DATABASE CONFIGURATION
# ================================================================
# Format: postgresql+psycopg://username:password@host:port/database
DATABASE_URL=postgresql+psycopg://postgres:your_password@localhost:5432/cardinsa
DB_ECHO=False
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_PRE_PING=True
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ================================================================
# JWT & AUTHENTICATION
# ================================================================
# CRITICAL: Generate secure secret keys using:
#   python -c "import secrets; print('JWT_SECRET:', secrets.token_urlsafe(64)); print('REFRESH_TOKEN_SECRET:', secrets.token_urlsafe(64))"
# NEVER use placeholder values in production!
JWT_SECRET=REPLACE_WITH_SECURE_64_BYTE_SECRET
REFRESH_TOKEN_SECRET=REPLACE_WITH_SECURE_64_BYTE_SECRET
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# For EdDSA algorithm (if switching from HS256)
JWT_PRIVATE_KEY_PATH=./keys/ed25519-private.pem
JWT_PUBLIC_KEY_PATH=./keys/ed25519-public.pem

# Password Reset
PASSWORD_RESET_TOKEN_TTL_MINUTES=30

# ================================================================
# SECURITY
# ================================================================
# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# Security Headers
SECURE_HEADERS=True
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block

# ================================================================
# REDIS CONFIGURATION (for caching & sessions)
# ================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ================================================================
# CELERY CONFIGURATION (for background tasks)
# ================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_ALWAYS_EAGER=False
CELERY_TASK_EAGER_PROPAGATES=True

# ================================================================
# EMAIL CONFIGURATION
# ================================================================
# Email Provider: smtp, gmail, outlook, sendgrid
EMAIL_PROVIDER=smtp

# SMTP Configuration (for generic SMTP or custom servers)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_USE_TLS=True
EMAIL_FROM_ADDRESS=noreply@cardinsa.com
EMAIL_FROM_NAME=Cardinsa Insurance

# Gmail Configuration (if EMAIL_PROVIDER=gmail)
GMAIL_USERNAME=your-email@gmail.com
GMAIL_PASSWORD=your-app-specific-password

# Outlook Configuration (if EMAIL_PROVIDER=outlook)
OUTLOOK_USERNAME=your-email@outlook.com
OUTLOOK_PASSWORD=your-app-password

# SendGrid Configuration (if EMAIL_PROVIDER=sendgrid)
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here

# Email Templates
EMAIL_TEMPLATES_DIR=app/core/email/templates

# Legacy (for backward compatibility)
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-specific-password
MAIL_FROM=noreply@cardinsa.com
MAIL_FROM_NAME=Cardinsa Insurance
MAIL_USE_TLS=True
MAIL_USE_SSL=False

# ================================================================
# FILE STORAGE
# ================================================================
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx,xls,xlsx

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=cardinsa-documents
S3_ENDPOINT_URL=

# ================================================================
# LOGGING
# ================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/cardinsa.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=10
LOG_TO_FILE=True
LOG_TO_CONSOLE=True

# ================================================================
# MONITORING & ANALYTICS
# ================================================================
# Sentry Configuration
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Insights (Azure)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# ================================================================
# RATE LIMITING
# ================================================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# ================================================================
# INSURANCE BUSINESS RULES
# ================================================================
DEFAULT_CURRENCY=USD
DEFAULT_TIMEZONE=UTC
MIN_POLICY_AMOUNT=100
MAX_POLICY_AMOUNT=10000000
UNDERWRITING_AUTO_APPROVE_THRESHOLD=50000
CLAIM_AUTO_APPROVE_THRESHOLD=5000

# ================================================================
# AI & MACHINE LEARNING
# ================================================================
ENABLE_AI_FEATURES=True
AI_MODEL_PATH=./models
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# ================================================================
# PAYMENT GATEWAY CONFIGURATION
# ================================================================
# Supported gateways: stripe, paypal, card, bank_transfer

# Stripe Configuration
STRIPE_API_KEY=sk_test_your-stripe-secret-key-here
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here
STRIPE_TEST_MODE=True

# PayPal Configuration
PAYPAL_MODE=sandbox
PAYPAL_CLIENT_ID=your-paypal-client-id-here
PAYPAL_CLIENT_SECRET=your-paypal-client-secret-here
PAYPAL_WEBHOOK_ID=your-paypal-webhook-id-here

# Bank Transfer Configuration
BANK_TRANSFER_ENABLED=True
BANK_TRANSFER_AUTO_APPROVE=False
BANK_TRANSFER_MAX_AMOUNT=100000

# Card Processing Configuration
CARD_PROCESSOR=stripe
CARD_VALIDATION_STRICT=True

# Payment Gateway Defaults
DEFAULT_PAYMENT_GATEWAY=stripe
PAYMENT_RETRY_ATTEMPTS=3
PAYMENT_TIMEOUT_SECONDS=30

# ================================================================
# EXTERNAL INTEGRATIONS
# ================================================================
# Legacy Payment Gateway (deprecated - use PAYMENT GATEWAY CONFIGURATION above)
PAYMENT_GATEWAY_URL=
PAYMENT_GATEWAY_API_KEY=
PAYMENT_GATEWAY_SECRET_KEY=

# SMS Provider
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# ================================================================
# TESTING
# ================================================================
TESTING=False
TEST_DATABASE_URL=postgresql+psycopg://postgres:password@localhost:5432/cardinsa_test

# ================================================================
# FEATURE FLAGS
# ================================================================
FEATURE_ENABLE_QUOTATIONS=True
FEATURE_ENABLE_UNDERWRITING=True
FEATURE_ENABLE_CLAIMS=True
FEATURE_ENABLE_ANALYTICS=True
FEATURE_ENABLE_AI_SCORING=True

# ================================================================
# REGULATORY & COMPLIANCE
# ================================================================
REGULATORY_REGION=US
COMPLIANCE_MODE=strict
AUDIT_LOG_RETENTION_DAYS=2555
DATA_RETENTION_YEARS=7

# ================================================================
# PERFORMANCE
# ================================================================
ENABLE_QUERY_LOGGING=False
ENABLE_PERFORMANCE_MONITORING=True
SLOW_QUERY_THRESHOLD_MS=1000
CACHE_TTL_SECONDS=3600
