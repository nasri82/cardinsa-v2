ðŸŽ¯ CORE QUOTATION ENGINE TABLES
ðŸ”´ CRITICAL TABLES (Must Use)
TablePrimary PurposeKey FieldsUsagequotationsMain quotation recordid, quote_number, customer_*, total_premium, statusCentral hub for all quotation dataquotation_itemsCoverage line itemsquotation_id, coverage_name, limit_amount, display_orderBreak down coverage detailsquotation_factorsPricing factorsquotation_id, key, value, factor_type, impact_descriptionStore calculation factorsquotation_versionsVersion controlquotation_id, version_number, data_snapshot, is_latest_versionTrack quote changesquotation_logsStatus trackingquotation_id, status_from, status_to, actor_id, notesAudit status changes
ðŸŸ¡ IMPORTANT TABLES (Highly Recommended)
TablePrimary PurposeKey FieldsUsagequotation_workflow_logsWorkflow eventsquotation_id, event, notes, created_byTrack workflow stepsquotation_coverage_optionsCoverage comparisonquotation_id, coverage_option_id, calculated_priceCompare different coverage optionsquotation_documentsGenerated documentsquotation_id, document_type, document_name, file_pathPDF generation, contracts
ðŸŸ¢ OPTIONAL TABLES (Nice to Have)
TablePrimary PurposeKey FieldsUsagequotation_attachmentsFile uploadsquotation_id, file_name, file_url, file_typeCustomer documentsquotation_audit_logEnhanced auditquotation_id, user_id, action_type, changed_valuesDetailed change tracking

ðŸ”— INTEGRATION TABLES
Step 4 Integration (Pricing Profiles)

quotation_pricing_profiles - Link quotes to pricing profiles
quotation_pricing_rules - Rules applied to quotes
quotation_pricing_profile_rules - Profile-rule relationships

Step 7 Integration (Premium Calculations)

premium_calculations - Calculation results fed into quotes
premium_age_brackets - Age-based pricing factors
premium_deductibles - Deductible factors

Business Data Tables

customers - Customer master data (if using customer_id)
plans - Insurance plan details (if using plan_id)
users - User information for assignments and audit


ðŸ“‹ USAGE BY ENDPOINT
Quote Creation API
python# Tables involved in quote creation
- quotations (INSERT main record)
- quotation_items (INSERT coverage details)  
- quotation_factors (INSERT pricing factors)
- quotation_versions (INSERT initial version)
- quotation_logs (INSERT "CREATED" status)
- quotation_workflow_logs (INSERT "QUOTE_INITIATED" event)
Quote Update API
python# Tables involved in quote updates
- quotations (UPDATE main record)
- quotation_items (INSERT/UPDATE/DELETE items)
- quotation_factors (INSERT/UPDATE factors)
- quotation_versions (INSERT new version)
- quotation_logs (INSERT status change)
- quotation_workflow_logs (INSERT update event)
Quote Approval Workflow
python# Tables for approval process
- quotations (UPDATE status, approved_at, approved_by)
- quotation_logs (INSERT approval status change)
- quotation_workflow_logs (INSERT approval events)
- quotation_audit_log (INSERT approval audit)
Quote Comparison Feature
python# Tables for coverage comparison
- quotations (SELECT multiple quotes)
- quotation_coverage_options (SELECT options to compare)
- quotation_items (SELECT coverage details)
- quotation_factors (SELECT pricing factors)
Document Generation
python# Tables for PDF generation
- quotations (SELECT main data)
- quotation_items (SELECT coverage details)
- quotation_documents (INSERT generated document record)
- customers (SELECT customer details)
- plans (SELECT plan details)